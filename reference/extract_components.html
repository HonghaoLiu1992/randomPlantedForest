<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Prediction components are a functional decomposition of the model prediction.
The sum of all components equals the overall predicted value for an observation."><title>Extract predicted components from a Random Planted Forest — extract_components • randomPlantedForest</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract predicted components from a Random Planted Forest — extract_components"><meta property="og:description" content="Prediction components are a functional decomposition of the model prediction.
The sum of all components equals the overall predicted value for an observation."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">randomPlantedForest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Bikesharing-Decomposition-Example.html">Bikesharing: Decomposition Example</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/PlantedML/randomPlantedForest/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Extract predicted components from a Random Planted Forest</h1>
      <small class="dont-index">Source: <a href="https://github.com/PlantedML/randomPlantedForest/blob/HEAD/R/components.R" class="external-link"><code>R/components.R</code></a></small>
      <div class="d-none name"><code>extract_components.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Prediction components are a functional decomposition of the model prediction.
The sum of all components equals the overall predicted value for an observation.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">extract_components</span><span class="op">(</span><span class="va">object</span>, <span class="va">new_data</span>, max_interaction <span class="op">=</span> <span class="cn">NULL</span>, predictors <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>object</dt>
<dd><p>A fit object of class <code><a href="rpf.html">rpf</a></code>.</p></dd>


<dt>new_data</dt>
<dd><p>Data for new observations to predict.</p></dd>


<dt>max_interaction</dt>
<dd><p><code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer</a></code> or <code>NULL</code>: Maximum degree of interactions to consider.
Default will use the <code>max_interaction</code> parameter from the <code><a href="rpf.html">rpf</a></code> object.
Must be between <code>1</code> (main effects only) and the <code>max_interaction</code> of the <code><a href="rpf.html">rpf</a></code> object.</p></dd>


<dt>predictors</dt>
<dd><p><code><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></code> or <code>NULL</code>: Vector of one or more column names of predictor variables
in <code>new_data</code> to extract components for.
If <code>NULL</code>, all variables and their interactions are returned.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></code> with the same number of rows as <code>new_data</code> and one
column for each main and interaction term requested, including the intercept.
For multiclass classification, the number of output columns is multiplied by the number of levels in the outcome.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Extracts all possible components up to <code>max_interaction</code> degrees,
up to the value set when calling <code><a href="rpf.html">rpf()</a></code>. The intercept is always included.
Optionally <code>predictors</code> can be specified to only include components including the given variables.
If <code>max_interaction</code> is greater than <code>length(predictors)</code>, the <code>max_interaction</code> will be lowered accordingly.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Depending on the number of predictors and <code>max_interaction</code>, the number of components will
increase drastically to <code>sum(choose(ncol(new_data), seq_len(max_interaction)))</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Regression task, only some predictors</span></span></span>
<span class="r-in"><span><span class="va">train</span> <span class="op">&lt;-</span>  <span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">test</span> <span class="op">&lt;-</span>  <span class="va">mtcars</span><span class="op">[</span><span class="fl">21</span><span class="op">:</span><span class="fl">32</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">23</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rpfit</span> <span class="op">&lt;-</span> <span class="fu"><a href="rpf.html">rpf</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">train</span>, max_interaction <span class="op">=</span> <span class="fl">3</span>, ntrees <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extract all components, including main effects and interaction terms up to `max_interaction`</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">components</span> <span class="op">&lt;-</span> <span class="fu">extract_components</span><span class="op">(</span><span class="va">rpfit</span>, <span class="va">test</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $m</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     intercept        cyl       disp         hp  cyl:disp      cyl:hp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:  20.00087  1.3768855  2.6463328  1.7329858 0.1226847  0.10609368</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:  20.00087 -0.7992901 -0.8268513 -0.0064323 0.1684562 -0.09246586</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:  20.00087 -0.7992901 -0.8268513 -0.0064323 0.1684562 -0.09246586</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:  20.00087 -0.7992901 -0.8268513 -2.9467399 0.1684562 -0.07370080</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:  20.00087 -0.7992901 -1.3844161  0.1184759 0.1753777 -0.09246575</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:  20.00087  1.3768855  4.2550639  4.5810324 0.4621982 -0.27912407</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:  20.00087  1.3768855  2.6463328  4.5810324 0.1226847 -0.27912407</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:  20.00087  1.3768855  4.2550639  0.5340290 0.4621982  0.05269070</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:  20.00087 -0.7992901 -0.8268513 -2.9467399 0.1684562 -0.07370080</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:  20.00087 -0.4055283  1.0484424  0.1184759 0.0909271 -0.03448583</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:  20.00087 -0.7992901 -0.8268513 -2.9467399 0.1684562 -0.07370080</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:  20.00087  1.3768855  2.6463328  0.1584594 0.1226847  0.12780335</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         disp:hp  cyl:disp:hp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: -0.31696214 -0.068887656</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:  0.08826036 -0.033709443</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:  0.08826036 -0.033709443</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: -0.27259694  0.004351475</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:  0.12779098 -0.031006151</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6: -0.17193448  0.016794219</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7: -0.46815054  0.097934960</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8: -0.22361410 -0.032020510</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9: -0.27259694  0.004351475</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10: -0.28526023  0.024649550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11: -0.27259694  0.004351475</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12: -0.08930346 -0.079140085</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     cyl  disp  hp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:   4 120.1  97</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:   8 318.0 150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:   8 304.0 150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:   8 350.0 245</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:   8 400.0 175</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:   4  79.0  66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:   4 120.3  91</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:   4  95.1 113</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:   8 351.0 264</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:   6 145.0 175</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:   8 301.0 335</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:   4 121.0 109</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "rpf_components" "list"          </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># sums to prediction</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">components</span><span class="op">$</span><span class="va">m</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">rpfit</span>, <span class="va">test</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    rowSums(components$m)    .pred</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1               25.60000 25.60000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2               18.49883 18.49883</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3               18.49883 18.49883</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4               15.25450 15.25450</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5               18.11533 18.11533</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6               30.24178 30.24178</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7               28.07846 28.07846</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8               26.42610 26.42610</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9               15.25450 15.25450</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10              20.55809 20.55809</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11              15.25450 15.25450</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12              24.26459 24.26459</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Only get components with interactions of a lower degree, ignoring 3-way interactions</span></span></span>
<span class="r-in"><span><span class="fu">extract_components</span><span class="op">(</span><span class="va">rpfit</span>, <span class="va">test</span>, max_interaction <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $m</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     intercept        cyl       disp         hp  cyl:disp      cyl:hp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:  20.00087  1.3768855  2.6463328  1.7329858 0.1226847  0.10609368</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:  20.00087 -0.7992901 -0.8268513 -0.0064323 0.1684562 -0.09246586</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:  20.00087 -0.7992901 -0.8268513 -0.0064323 0.1684562 -0.09246586</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:  20.00087 -0.7992901 -0.8268513 -2.9467399 0.1684562 -0.07370080</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:  20.00087 -0.7992901 -1.3844161  0.1184759 0.1753777 -0.09246575</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:  20.00087  1.3768855  4.2550639  4.5810324 0.4621982 -0.27912407</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:  20.00087  1.3768855  2.6463328  4.5810324 0.1226847 -0.27912407</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:  20.00087  1.3768855  4.2550639  0.5340290 0.4621982  0.05269070</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:  20.00087 -0.7992901 -0.8268513 -2.9467399 0.1684562 -0.07370080</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:  20.00087 -0.4055283  1.0484424  0.1184759 0.0909271 -0.03448583</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:  20.00087 -0.7992901 -0.8268513 -2.9467399 0.1684562 -0.07370080</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:  20.00087  1.3768855  2.6463328  0.1584594 0.1226847  0.12780335</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         disp:hp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: -0.31696214</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:  0.08826036</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:  0.08826036</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: -0.27259694</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:  0.12779098</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6: -0.17193448</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7: -0.46815054</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8: -0.22361410</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9: -0.27259694</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10: -0.28526023</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11: -0.27259694</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12: -0.08930346</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     cyl  disp  hp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:   4 120.1  97</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:   8 318.0 150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:   8 304.0 150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:   8 350.0 245</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:   8 400.0 175</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:   4  79.0  66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:   4 120.3  91</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:   4  95.1 113</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:   8 351.0 264</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:   6 145.0 175</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:   8 301.0 335</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:   4 121.0 109</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "rpf_components" "list"          </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Only retrieve main effects</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">main_effects</span> <span class="op">&lt;-</span> <span class="fu">extract_components</span><span class="op">(</span><span class="va">rpfit</span>, <span class="va">test</span>, max_interaction <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $m</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     intercept        cyl       disp         hp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:  20.00087  1.3768855  2.6463328  1.7329858</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:  20.00087 -0.7992901 -0.8268513 -0.0064323</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:  20.00087 -0.7992901 -0.8268513 -0.0064323</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:  20.00087 -0.7992901 -0.8268513 -2.9467399</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:  20.00087 -0.7992901 -1.3844161  0.1184759</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:  20.00087  1.3768855  4.2550639  4.5810324</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:  20.00087  1.3768855  2.6463328  4.5810324</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:  20.00087  1.3768855  4.2550639  0.5340290</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:  20.00087 -0.7992901 -0.8268513 -2.9467399</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:  20.00087 -0.4055283  1.0484424  0.1184759</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:  20.00087 -0.7992901 -0.8268513 -2.9467399</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:  20.00087  1.3768855  2.6463328  0.1584594</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     cyl  disp  hp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:   4 120.1  97</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:   8 318.0 150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:   8 304.0 150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:   8 350.0 245</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:   8 400.0 175</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:   4  79.0  66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:   4 120.3  91</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:   4  95.1 113</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:   8 351.0 264</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:   6 145.0 175</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:   8 301.0 335</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:   4 121.0 109</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "rpf_components" "list"          </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The difference is the combined contribution of interaction effects</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">main_effects</span><span class="op">$</span><span class="va">m</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">rpfit</span>, <span class="va">test</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    rowSums(main_effects$m)    .pred</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                 25.75707 25.60000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                 18.36829 18.49883</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                 18.36829 18.49883</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                 15.42799 15.25450</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                 17.93564 18.11533</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                 30.21385 30.24178</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                 28.60512 28.07846</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                 26.16685 26.42610</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                 15.42799 15.25450</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                20.76226 20.55809</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                15.42799 15.25450</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12                24.18255 24.26459</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Joseph Theo Meyer, Munir Hiabu, Maike Spankus, Marvin N. Wright, Lukas Burk.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

